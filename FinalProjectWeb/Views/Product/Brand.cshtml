
@model List<DAL.EF.Product>

@{
    ViewBag.Title = "Brand";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

@if (Model != null)
{
    <div class="main">
        <div class="content">
            <div class="content_top">
                <div class="heading">
                    <h3>Products</h3>
                </div>
                <div class="clear"></div>
            </div>

            <div class="section group">
                @foreach (var item in Model)
                {
                    <div class="grid_1_of_4 images_1_of_4 ">
                        <a href="/product/detail-@item.productID"><img src="@item.imageLink" alt="" /></a>
                        <h2>@item.productName </h2>
                        <div class="price-details">
                            <div class="price-number">
                                <p><span class="rupees">$@item.price</span></p>
                            </div>
                            <div class="add-cart">
                                <h4><a href="/add-to-cart?i=@item.productID&q=1">Add to Cart</a></h4>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>
                }
            </div>
            <!--Paging-->
            @if (ViewBag.TotalPage > 1)
            {
                int totalPage = (int)ViewBag.TotalPage;
                int currentPage = (int)ViewBag.Index;
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                        @if (currentPage > ViewBag.First)
                        {
                            <li class="page-item"><a class="page-link" href="/product?brand=@ViewBag.Brand&index=@ViewBag.First">First</a></li>
                            <li class="page-item"><a class="page-link" href="/product?brand=@ViewBag.Brand&index=@ViewBag.Prev">Previous</a></li>
                        }

                        @for (int i = 1; i <= totalPage; i++)
                        {
                            if (i == currentPage)
                            {
                                <li class="page-item active"><a a class="page-link " href="/product?brand=@ViewBag.Brand&index=@i">@i</a></li>
                            }
                            else
                            {
                                <li class="page-item"><a a class="page-link" href="/product?brand=@ViewBag.Brand&index=@i">@i</a></li>
                            }
                        }
                        @if (currentPage < totalPage)
                        {
                            <li class="page-item"><a class="page-link" href="/product?brand=@ViewBag.Brand&index=@ViewBag.Next">Next</a></li>
                            <li class="page-item"><a class="page-link" href="/product?brand=@ViewBag.Brand&index=@ViewBag.Last">Last</a></li>
                        }


                    </ul>
                </nav>
            }





        </div>

    </div>
    
            }
            else
            {
                <span>Don't have product</span>
            }



